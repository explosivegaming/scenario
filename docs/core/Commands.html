

    <!doctype html>
    <html class="no-js" lang="">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Commands core</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../spectre.min.css" type="text/css" />
    <link rel="stylesheet" href="../spectre-icons.min.css" type="text/css" />
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
    </head>
    <body>

    <div class="container grid-1280">
    <div class="columns">

    <!-- sidebar start -->

    <div id="sidebar" class="column col-3 col-sm-12">

    <div class="sidebar-custom">

    <div class="project-infobox">

    <!-- project title -->

    <a href="../index.html"><h1>ExpGaming Scenario</h1></a>

    <!-- project description -->
    <p class="project-desc">Explosive Gaming's server scenario for 0.18</p>

    <!-- project full description -->
    </div>


<!-- sidebar navigation -->
<!-- list of items in a module -->
    <ul class="nav nav-module-contents">
    <li class="nav-item">
    <h2>Sections</h2>
    <ul class="nav">
    <li class="nav-item"><a href="#Dependencies"><span class="fragment-hashtag">#</span> Dependencies</a></li>
    <li class="nav-item"><a href="#Tables"><span class="fragment-hashtag">#</span> Tables</a></li>
    <li class="nav-item"><a href="#Fields"><span class="fragment-hashtag">#</span> Fields</a></li>
    <li class="nav-item"><a href="#Authentication"><span class="fragment-hashtag">#</span> Authentication </a></li>
    <li class="nav-item"><a href="#Parse"><span class="fragment-hashtag">#</span> Parse </a></li>
    <li class="nav-item"><a href="#Getters"><span class="fragment-hashtag">#</span> Getters </a></li>
    <li class="nav-item"><a href="#Creation"><span class="fragment-hashtag">#</span> Creation </a></li>
    <li class="nav-item"><a href="#Status"><span class="fragment-hashtag">#</span> Status </a></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Core</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/Async.html"><span class="module-name-item">Async</span></a></div></li>
    <li class="nav-item active"><div class="nav-item-block-active block"><a href="../core/Commands.html"><span class="module-name-item">Commands</span></a><i class="icon icon-arrow-left icon-arrow-left-custom"></i></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/Common.html"><span class="module-name-item">Common</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/Datastore.html"><span class="module-name-item">Datastore</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/External.html"><span class="module-name-item">External</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/Gui.html"><span class="module-name-item">Gui</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/Groups.html"><span class="module-name-item">Groups</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/PlayerData.html"><span class="module-name-item">PlayerData</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../core/Roles.html"><span class="module-name-item">Roles</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Control</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../control/Jail.html"><span class="module-name-item">Jail</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../control/Production.html"><span class="module-name-item">Production</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../control/Reports.html"><span class="module-name-item">Reports</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../control/Rockets.html"><span class="module-name-item">Rockets</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../control/Tasks.html"><span class="module-name-item">Tasks</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../control/Warnings.html"><span class="module-name-item">Warnings</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../control/Warps.html"><span class="module-name-item">Warps</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Addons</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Advanced-Start.html"><span class="module-name-item">Advanced-Start</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Chat-Popups.html"><span class="module-name-item">Chat-Popups</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Chat-Reply.html"><span class="module-name-item">Chat-Reply</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Compilatron.html"><span class="module-name-item">Compilatron</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Damage-Popups.html"><span class="module-name-item">Damage-Popups</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Death-Logger.html"><span class="module-name-item">Death-Logger</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Discord-Alerts.html"><span class="module-name-item">Discord-Alerts</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Inventory-Clear.html"><span class="module-name-item">Inventory-Clear</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Pollution-Grading.html"><span class="module-name-item">Pollution-Grading</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Scorched-Earth.html"><span class="module-name-item">Scorched-Earth</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Spawn-Area.html"><span class="module-name-item">Spawn-Area</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../addons/Tree-Decon.html"><span class="module-name-item">Tree-Decon</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Guis</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../guis/Player-List.html"><span class="module-name-item">Player-List</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../guis/Readme.html"><span class="module-name-item">Readme</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../guis/Rocket-Info.html"><span class="module-name-item">Rocket-Info</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../guis/Science-Info.html"><span class="module-name-item">Science-Info</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../guis/server-ups.html"><span class="module-name-item">server-ups</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../guis/Task-List.html"><span class="module-name-item">Task-List</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../guis/Warps-List.html"><span class="module-name-item">Warps-List</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Data</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../data/Alt-View.html"><span class="module-name-item">Alt-View</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../data/Bonus.html"><span class="module-name-item">Bonus</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../data/Greetings.html"><span class="module-name-item">Greetings</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../data/Player-Colours.html"><span class="module-name-item">Player-Colours</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../data/Quickbar.html"><span class="module-name-item">Quickbar</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../data/Tag.html"><span class="module-name-item">Tag</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Commands</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Admin-Chat.html"><span class="module-name-item">Admin-Chat</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Cheat-Mode.html"><span class="module-name-item">Cheat-Mode</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Clear-Inventory.html"><span class="module-name-item">Clear-Inventory</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Connect.html"><span class="module-name-item">Connect</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Debug.html"><span class="module-name-item">Debug</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Find.html"><span class="module-name-item">Find</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Help.html"><span class="module-name-item">Help</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Home.html"><span class="module-name-item">Home</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Interface.html"><span class="module-name-item">Interface</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Jail.html"><span class="module-name-item">Jail</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Kill.html"><span class="module-name-item">Kill</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Me.html"><span class="module-name-item">Me</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Rainbow.html"><span class="module-name-item">Rainbow</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Repair.html"><span class="module-name-item">Repair</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Reports.html"><span class="module-name-item">Reports</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Roles.html"><span class="module-name-item">Roles</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Spawn.html"><span class="module-name-item">Spawn</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Teleport.html"><span class="module-name-item">Teleport</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../commands/Warnings.html"><span class="module-name-item">Warnings</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Configs</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/File-Loader.html"><span class="module-name-item">File-Loader</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Advanced-Start.html"><span class="module-name-item">Advanced-Start</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Bonuses.html"><span class="module-name-item">Bonuses</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Chat-Reply.html"><span class="module-name-item">Chat-Reply</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Compilatron.html"><span class="module-name-item">Compilatron</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Death-Logger.html"><span class="module-name-item">Death-Logger</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Discord-Alerts.html"><span class="module-name-item">Discord-Alerts</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Commands-Auth-Admin.html"><span class="module-name-item">Commands-Auth-Admin</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Commands-Auth-Roles.html"><span class="module-name-item">Commands-Auth-Roles</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Commands-Parse.html"><span class="module-name-item">Commands-Parse</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Commands-Parse-Roles.html"><span class="module-name-item">Commands-Parse-Roles</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Commands-Auth-Runtime-Disable.html"><span class="module-name-item">Commands-Auth-Runtime-Disable</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Permission-Groups.html"><span class="module-name-item">Permission-Groups</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Roles.html"><span class="module-name-item">Roles</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Player-List.html"><span class="module-name-item">Player-List</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Rockets.html"><span class="module-name-item">Rockets</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Science.html"><span class="module-name-item">Science</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Tasks.html"><span class="module-name-item">Tasks</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Warps.html"><span class="module-name-item">Warps</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/inventory_clear.html"><span class="module-name-item">inventory_clear</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Pollution-Grading.html"><span class="module-name-item">Pollution-Grading</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Popup-Messages.html"><span class="module-name-item">Popup-Messages</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Preset-Player-Colours.html"><span class="module-name-item">Preset-Player-Colours</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Preset-Player-Quickbar.html"><span class="module-name-item">Preset-Player-Quickbar</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Repair.html"><span class="module-name-item">Repair</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Scorched-Earth.html"><span class="module-name-item">Scorched-Earth</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Spawn-Area.html"><span class="module-name-item">Spawn-Area</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Statistics.html"><span class="module-name-item">Statistics</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../configs/Warnings.html"><span class="module-name-item">Warnings</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Modules</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/control.html"><span class="module-name-item">control</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/modules.addons.station-auto-name.html"><span class="module-name-item">modules.addons.station-auto-name</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/overrides.debug.html"><span class="module-name-item">overrides.debug</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/overrides.math.html"><span class="module-name-item">overrides.math</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/overrides.table.html"><span class="module-name-item">overrides.table</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/utils.event.html"><span class="module-name-item">utils.event</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/utils.event_core.html"><span class="module-name-item">utils.event_core</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/utils.task.html"><span class="module-name-item">utils.task</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="nav nav-modules">
    <li class="nav-item">
    <h2>Topics</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../topics/README.md.html"><span class="module-name-item">README.md</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../topics/LICENSE.html"><span class="module-name-item">LICENSE</span></a></div></li>
    </ul>
    </li>
    </ul>


    </div>
    <div class="up-to-top">
    <!-- list of items in a module -->
    <ul class="nav nav-module-contents">
    <li class="nav-item">
    <h4>Jump to Section</h4>
    <ul class="nav">
    <li class="nav-item"><a href="#Dependencies"><span class="fragment-hashtag">#</span> Dependencies</a></li>
    <li class="nav-item"><a href="#Tables"><span class="fragment-hashtag">#</span> Tables</a></li>
    <li class="nav-item"><a href="#Fields"><span class="fragment-hashtag">#</span> Fields</a></li>
    <li class="nav-item"><a href="#Authentication"><span class="fragment-hashtag">#</span> Authentication </a></li>
    <li class="nav-item"><a href="#Parse"><span class="fragment-hashtag">#</span> Parse </a></li>
    <li class="nav-item"><a href="#Getters"><span class="fragment-hashtag">#</span> Getters </a></li>
    <li class="nav-item"><a href="#Creation"><span class="fragment-hashtag">#</span> Creation </a></li>
    <li class="nav-item"><a href="#Status"><span class="fragment-hashtag">#</span> Status </a></li>
    </ul>
    </li>
    </ul>
    <a href="#">Top <i class="icon icon-upward"></i></a>
    </div>
    </div>
    <!-- sidebar end -->

    <!-- content body start -->
    <div class="column col-9 col-sm-12">

    <!-- module list on the main page start -->
    <!-- module list on the main page end -->

    <!-- module contents -->

    <!-- module content header start -->

    <h2><span class="body-module-name"><strong><em>Commands</em></strong></span> core</h2>
    <p>Core Module - Commands
- Factorio command making module that makes commands with better parse and more modularity</p>
    <p></p>


    <!-- module info start -->
    <!-- module info end -->

    <!-- module usage start -->
    <h3>Usage</h3>
    <pre class="code" data-lang="Lua"><code><span class="comment">--- Full code example, see below for explanation
</span>Commands.new_command(<span class="string">'repeat-name'</span>, <span class="string">'Will repeat you name a number of times in chat.'</span>)
:add_param(<span class="string">'repeat-count'</span>, <span class="string">'number-range-int'</span>, <span class="number">1</span>, <span class="number">5</span>) <span class="comment">-- required int in range 1 to 5 inclusive
</span>:add_param(<span class="string">'smiley'</span>, <span class="keyword">true</span>, <span class="keyword">function</span>(input, player, reject) <span class="comment">-- optional boolean default false
</span>    <span class="keyword">if</span> <span class="keyword">not</span> input <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span>
    input = input:lower()
    <span class="keyword">if</span> input == <span class="string">'true'</span> <span class="keyword">or</span> input == <span class="string">'yes'</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">true</span> <span class="keyword">end</span>
    <span class="keyword">return</span> <span class="keyword">false</span>
<span class="keyword">end</span>)
:set_defaults{ smiley = <span class="keyword">false</span> }
:set_flag(<span class="string">'admin_only'</span>) <span class="comment">-- command is admin only
</span>:add_alias(<span class="string">'name'</span>, <span class="string">'rname'</span>) <span class="comment">-- allow alias: name and rname
</span>:register(<span class="keyword">function</span>(player, repeat_count, smiley, raw)
    game.<span class="global">print</span>(player.name..<span class="string">' used a command with input: '</span>..raw)

    <span class="keyword">local</span> msg = <span class="string">') '</span>..player.name
    <span class="keyword">if</span> smiley <span class="keyword">then</span>
        msg = <span class="string">':'</span>..msg
    <span class="keyword">end</span>

    <span class="keyword">for</span> <span class="number">1</span> = <span class="number">1</span>, repeat_count <span class="keyword">do</span>
        Command.<span class="global">print</span>(<span class="number">1.</span>.msg)
    <span class="keyword">end</span>
<span class="keyword">end</span>)</code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">--- Example Command Explanation:
</span><span class="comment">-- Making commands basics, the commands can be set up with any number of params and flags that you want,
</span><span class="comment">-- you can add aliases for the commands and set default values for optional params and of course register your command callback.
</span><span class="comment">-- In our example we will have a command that will repeat the users name in chat X amount of times and only allow admins to use it.
</span>
<span class="comment">-- First we create the new command, note this will not register the command to the game this is done at the end.
</span><span class="comment">-- We will call the command "repeat-name" and set the help message as follows:
</span>Commands.new_command(<span class="string">'repeat-name'</span>, <span class="string">'Will repeat you name a number of times in chat.'</span>)

<span class="comment">-- Now for our first param, we have named it "repeat-count" and it will be a required value, between 1 and 5 inclusive:
</span><span class="comment">-- By using "number-range-int" we are saying to use this parser to convert our input text, common ones exist in config.expcore.command_general_parse
</span>:add_param(<span class="string">'repeat-count'</span>, <span class="string">'number-range-int'</span>, <span class="number">1</span>, <span class="number">5</span>)

<span class="comment">-- Our second param needs a custom parser, meaning it isnt defined with add_parser, this is an option for when it is unlikely for
</span><span class="comment">-- any other command to use the same input type. In the example it is a boolean type and we are just showing it here as part of the example.
</span><span class="comment">-- As for the param its self it will be called "smiley" and will be optional with a default value of false:
</span>:add_param(<span class="string">'smiley'</span>, <span class="keyword">true</span>, <span class="keyword">function</span>(input, player, reject)
    <span class="comment">-- Since it is optional the input can be nil, in which case we just return
</span>    <span class="keyword">if</span> <span class="keyword">not</span> input <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span>
    <span class="comment">-- If it is not nil then we check for a truthy value
</span>    <span class="keyword">if</span> input == <span class="string">'true'</span> <span class="keyword">or</span> input == <span class="string">'yes'</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">true</span> <span class="keyword">end</span>
    <span class="comment">-- Note that because we did not return nil or reject then false will be passed to command callback, see example parse
</span>    <span class="keyword">return</span> <span class="keyword">false</span>
<span class="keyword">end</span>)

<span class="comment">-- Once all params are defined you can add some default values for your optional params, the default value will be used only
</span><span class="comment">-- when no value is given as input, if an invalid value is given then the command will fail and the default will not be used, the
</span><span class="comment">-- default can also be a function which is passed the player as an argument and should return a value to be the default.
</span><span class="comment">-- Here we set the default for "smiley" to false:
</span>:set_defaults{smiley=<span class="keyword">false</span>}

<span class="comment">-- Another example of defaults if we have: item, amount[opt], player[opt]
</span>:set_defaults{
    amount = <span class="number">50</span>, <span class="comment">-- More than one value can be set at a time
</span>    player = <span class="keyword">function</span>(player) <span class="keyword">return</span> player <span class="keyword">end</span> <span class="comment">-- Default is the player using the command
</span>}

<span class="comment">-- Now the params are set up we can alter how the command works, we can set auth flags, add aliases, or enable "auto concat":
</span>:set_flag(<span class="string">'admin_only'</span>) <span class="comment">-- In our case we want "admin_only" to be set to true so only admins can use the command
</span>:add_alias(<span class="string">'name'</span>, <span class="string">'rname'</span>) <span class="comment">-- We also add two aliases here: "name" and "rname" which point to this command
</span><span class="comment">-- :enable_auto_concat() -- We do not use this in our case but this can also be used to enable the "auto concat" feature
</span>
<span class="comment">-- And finally we want to register a callback to this command, the callback is what defines what the command does, can be as complex as you
</span><span class="comment">-- want it to be, or as simple as our example; the command receives two params plus all param you have defined:
</span><span class="comment">-- 1) the player who used the command
</span><span class="comment">-- 2) in our case repeat_count which will be a number
</span><span class="comment">-- 3) in our case smiley which will be a boolean
</span><span class="comment">-- 4) the raw input; this param is always last as is always present as a catch all
</span>:register(<span class="keyword">function</span>(player, repeat_count, smiley, raw)
    <span class="comment">-- This is to show the value for raw as this is an example command, the log file will also show this
</span>    game.<span class="global">print</span>(player.name..<span class="string">' used a command with input: '</span>..raw)
    <span class="keyword">local</span> msg = <span class="string">') '</span>..player.name

    <span class="keyword">if</span> smiley <span class="keyword">then</span>
        msg = <span class="string">':'</span>..msg
    <span class="keyword">end</span>

    <span class="keyword">for</span> <span class="number">1</span> = <span class="number">1</span>, repeat_count <span class="keyword">do</span>
        <span class="comment">-- this print function will return ANY value to the user in a desync safe manor, this includes if the command was used through rcon
</span>        Command.<span class="global">print</span>(<span class="number">1.</span>.msg)
    <span class="keyword">end</span>
    <span class="comment">-- See below for what can be used here
</span><span class="keyword">end</span>)

<span class="comment">-- Values that can be returned from register callback
</span>Commands.<span class="global">print</span>(any, colour[opt]) <span class="comment">-- This will return any value value to the user including if it is ran through rcon console
</span>Commands.error(message[opt]) <span class="comment">-- This returns a warning to the user, aka an error that does not prevent execution of the command
</span><span class="keyword">return</span> Commands.error(message[opt]) <span class="comment">-- This returns an error to the user, and will halt the command execution, ie no success message is returned
</span>Commands.success(message[opt]) <span class="comment">-- Used to return a success message however don't use this method, see below
</span><span class="keyword">return</span> Commands.success(message[opt]) <span class="comment">-- Will return the success message to the user and your given message, halts execution
</span><span class="keyword">return</span> &lt;any&gt; <span class="comment">-- If any value is returned then it will be returned to the player via a Commands.success call
</span></code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">--- Example Authenticator:
</span><span class="comment">-- The command system is best used when you can control who uses commands;
</span><span class="comment">-- to do this you need to define an authenticator which is ran every time a command is run;
</span><span class="comment">-- in this example I will show a simple one that requires certain commands to require the user to be a game admin.
</span>
<span class="comment">-- For our admin only example we will set a flag to true when we want it to be admin only;
</span><span class="comment">-- when we define the command will will use :set_flag('admin_only');
</span><span class="comment">-- then inside the authenticator we will test if the flag is present using: if flags.admin_only then
</span>
<span class="comment">-- When the authenticator is called by the command handler it will be passed 4 arguments:
</span><span class="comment">-- 1) player - the player who used the command
</span><span class="comment">-- 2) command - the name of the command that is being used
</span><span class="comment">-- 3) flags - the flags which have been set for this command, flags are set with :set_flag(name, value)
</span><span class="comment">-- 4) reject - the reject function which is the preferred method to prevent execution of the command
</span>
<span class="comment">-- No return is required to allow the command to execute but it is best practice to return true;
</span><span class="comment">-- we do this in two cases in our authenticator:
</span><span class="comment">-- 1) when the "admin_only" flag is not set, which we take assume that any one can use it
</span><span class="comment">-- 2) when the "admin_only" flag is set, and the player is admin
</span>
<span class="comment">-- When want to prevent execution of the command we must reject it, listed is how that can be done:
</span><span class="comment">-- 1) return false -- this is the most basic rejection and should only be used while testing
</span><span class="comment">-- 2) return reject -- returning the reject function is as a fail safe in case you forget to call it, same as returning false
</span><span class="comment">-- 3) reject() -- this will block execution while allowing further code to be ran in your authenticator
</span><span class="comment">-- 4) reject('This command is for admins only!') -- using reject as a function allows a error message to be returned
</span><span class="comment">-- 5) return reject() -- using return on either case above is best practice as you should execute all your code before rejecting
</span>
<span class="comment">-- Example Code:
</span>Commands.add_authenticator(<span class="keyword">function</span>(player, command, flags, reject)
    <span class="comment">-- Check if the command is admin only
</span>    <span class="keyword">if</span> flags.admin_only <span class="keyword">then</span>
        <span class="comment">-- Return true if player is admin, or reject and return error message
</span>        <span class="keyword">return</span> player.admin <span class="keyword">or</span> reject(<span class="string">'This command is for admins only!'</span>)
    <span class="keyword">else</span>
        <span class="comment">-- Return true if command was not admin only
</span>        <span class="keyword">return</span> <span class="keyword">true</span>
    <span class="keyword">end</span>
<span class="keyword">end</span>)</code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">--- Example Parser:
</span><span class="comment">-- Before you make a command it is important to understand the most powerful feature of this command handler;
</span><span class="comment">-- when you define a command you are able to type the params and have then be parsed and validated before your command is executed;
</span><span class="comment">-- This module should be paired with a general command parse but you may want to create your own.
</span>
<span class="comment">-- For our example we will create a parse to accept only integer numbers in a given range:
</span><span class="comment">-- 1) we will give it the name "number-range-int" this is the "type" that the input is expected to be
</span><span class="comment">-- 2) when we define the type we will also define the min and max of the range so we can use the function more than once
</span>:add_param(<span class="string">'repeat_count'</span>, <span class="string">'number-range-int'</span>, <span class="number">5</span>, <span class="number">10</span>) <span class="comment">-- "repeat_count" is a required "number-range-int" in a range 5 to 10 inclusive
</span>
<span class="comment">-- The command parse will be passed 3 arguments plus any other which you define, in our case:
</span><span class="comment">-- 1) input - the input that has been given by the user for this param, the role of this function is to transform this value
</span><span class="comment">-- nb: the input is a string but can be nil if the param is marked as optional
</span><span class="comment">-- 2) player - the player who is using the command, this is always present
</span><span class="comment">-- 3) reject - the reject function to throw an error to the user, this is always present
</span><span class="comment">-- 4) range_min - the range min, this is user defined and has the value given when the param is defined
</span><span class="comment">-- 5) range_max - the range max, this is user defined and has the value given when the param is defined
</span>
<span class="comment">-- When returning from the param parse you have a few options with how to do this:
</span><span class="comment">-- 1) you return the new value for the param (any non nil value) this value is then passed to the command callback
</span><span class="comment">-- 2) not returning will cause a generic invalid error and the command is rejected, not recommenced
</span><span class="comment">-- 3) return reject -- this is just a failsafe in case the function is not called, same as no return
</span><span class="comment">-- 4) return reject() -- will give a shorter error message as you pass a nil custom error
</span><span class="comment">-- 5) return reject('Number entered is not in range: '..range_min..', '..range_max) -- returns a custom error to the user
</span><span class="comment">-- nb: if you do not return reject after you call it then you will still be returning nil so there will be a duplicate error message
</span>
<span class="comment">-- It should be noted that if you want to expand on an existing parse you can use Commands.parse(type, input, player, reject)
</span><span class="comment">-- this function will either return a new value for the input or nil, if it is nil you should return nil to prevent duplicate
</span><span class="comment">-- error messages to the user:
</span>input = Commands.parse(<span class="string">'number-int'</span>, input, player, reject)
<span class="keyword">if</span> <span class="keyword">not</span> input <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">-- nil check
</span>
<span class="comment">-- Example Code:
</span>Commands.add_parse(<span class="string">'number-range-int'</span>, <span class="keyword">function</span>(input, player, reject, range_min, range_max)
    <span class="keyword">local</span> rtn = <span class="global">tonumber</span>(input) <span class="keyword">and</span> <span class="global">math</span>.floor(<span class="global">tonumber</span>(input)) <span class="keyword">or</span> <span class="keyword">nil</span> <span class="comment">-- converts input to number
</span>    <span class="keyword">if</span> <span class="keyword">not</span> rtn <span class="keyword">or</span> rtn &lt; range_min <span class="keyword">or</span> rtn &gt; range_max <span class="keyword">then</span>
        <span class="comment">-- the input is either not a number or is outside the range
</span>        <span class="keyword">return</span> reject(<span class="string">'Number entered is not in range: '</span>..range_min..<span class="string">', '</span>..range_max)
    <span class="keyword">else</span>
        <span class="comment">-- returns the input as a number value rather than a string, thus the param is now the correct type
</span>        <span class="keyword">return</span> rtn
    <span class="keyword">end</span>
<span class="keyword">end</span>)</code></pre>
    <!-- module usage end -->

    <!-- module content header end -->

    <!-- module section list start -->
    <table class="section-content-list">
    <thead>
    <h3><a href="#Dependencies">Dependencies</a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#utils.game">utils.game</a></td>
    </tr>
    <tr>
    <td class="name"><a href="#expcore.common">expcore.common</a></td>
    </tr>
    </tbody>
    </table>
    <table class="section-content-list">
    <thead>
    <h3><a href="#Tables">Tables</a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#defines">defines</a></td>
    <td class="summary">Constant values used by the command system</td>
    </tr>
    <tr>
    <td class="name"><a href="#commands">commands</a></td>
    <td class="summary">An array of all custom commands that are registered</td>
    </tr>
    <tr>
    <td class="name"><a href="#authenticators">authenticators</a></td>
    <td class="summary">An array of all custom authenticators that are registered</td>
    </tr>
    <tr>
    <td class="name"><a href="#parsers">parsers</a></td>
    <td class="summary">Used to store default functions which are common parse function such as player or number in range</td>
    </tr>
    <tr>
    <td class="name"><a href="#_prototype">_prototype</a></td>
    <td class="summary">The command prototype which stores all command defining functions</td>
    </tr>
    </tbody>
    </table>
    <table class="section-content-list">
    <thead>
    <h3><a href="#Fields">Fields</a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#authorization_failure_on_error">authorization_failure_on_error</a></td>
    <td class="summary">When true any authenticator error will result in authorization failure, more secure</td>
    </tr>
    <tr>
    <td class="name"><a href="#print">print</a></td>
    <td class="summary">Returns a value to the player, different to success as this does not signal the end of your command</td>
    </tr>
    </tbody>
    </table>
    <table class="section-content-list">
    <thead>
    <h3><a href="#Authentication">Authentication </a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#add_authenticator">add_authenticator(authenticator)</a></td>
    <td class="summary">Adds an authorization function, function used to check if a player if allowed to use a command</td>
    </tr>
    <tr>
    <td class="name"><a href="#remove_authenticator">remove_authenticator(authenticator)</a></td>
    <td class="summary">Removes an authorization function, can use the index or the function value</td>
    </tr>
    <tr>
    <td class="name"><a href="#authorize">authorize(player, command_name)</a></td>
    <td class="summary">Mostly used internally, calls all authenticators, returns if the player is authorized</td>
    </tr>
    </tbody>
    </table>
    <table class="section-content-list">
    <thead>
    <h3><a href="#Parse">Parse </a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#add_parse">add_parse(name, parser)</a></td>
    <td class="summary">Adds a parse function which can be called by name (used in add_param)
nb: this is not required as you can use the callback directly this just allows it to be called by name</td>
    </tr>
    <tr>
    <td class="name"><a href="#remove_parse">remove_parse(name)</a></td>
    <td class="summary">Removes a parse function, see add_parse for adding them, cant be done during runtime</td>
    </tr>
    <tr>
    <td class="name"><a href="#parse">parse(name, input, player, reject)</a></td>
    <td class="summary">Intended to be used within other parse functions, runs a parse and returns success and new value</td>
    </tr>
    </tbody>
    </table>
    <table class="section-content-list">
    <thead>
    <h3><a href="#Getters">Getters </a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#get">get([player])</a></td>
    <td class="summary">Gets all commands that a player is allowed to use, game commands are not included</td>
    </tr>
    <tr>
    <td class="name"><a href="#search">search(keyword[, player])</a></td>
    <td class="summary">Searches command names and help messages to find possible commands, game commands are included</td>
    </tr>
    </tbody>
    </table>
    <table class="section-content-list">
    <thead>
    <h3><a href="#Creation">Creation </a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#new_command">new_command(name, help)</a></td>
    <td class="summary">Creates a new command object to added details to, this does not register the command to the game api</td>
    </tr>
    <tr>
    <td class="name"><a href="#Commands._prototype:add_param">Commands._prototype:add_param(name[, optional=false][, parse][, ...])</a></td>
    <td class="summary">Adds a new param to the command this will be displayed in the help and used to parse the input</td>
    </tr>
    <tr>
    <td class="name"><a href="#Commands._prototype:set_defaults">Commands._prototype:set_defaults(defaults)</a></td>
    <td class="summary">Add default values to params, only as an effect if the param is optional, if default value is a function it is called with the acting player</td>
    </tr>
    <tr>
    <td class="name"><a href="#Commands._prototype:set_flag">Commands._prototype:set_flag(name[, value=true])</a></td>
    <td class="summary">Adds a flag to the command which is passed via the flags param to the authenticators, can be used to assign command roles or usage type</td>
    </tr>
    <tr>
    <td class="name"><a href="#Commands._prototype:add_alias">Commands._prototype:add_alias(...)</a></td>
    <td class="summary">Adds an alias, or multiple, that will be registered to this command, eg /teleport can be used as /tp</td>
    </tr>
    <tr>
    <td class="name"><a href="#Commands._prototype:enable_auto_concat">Commands._prototype:enable_auto_concat()</a></td>
    <td class="summary">Enables auto concatenation for this command, all params after the last are added to the last param, useful for reasons or other long text input
nb: this will disable max param checking as they will be concatenated onto the end of that last param</td>
    </tr>
    <tr>
    <td class="name"><a href="#Commands._prototype:register">Commands._prototype:register(callback)</a></td>
    <td class="summary">Adds the callback to the command and registers: aliases, params and help message with the base game api
nb: this must be the last function ran on the command and must be done for the command to work</td>
    </tr>
    </tbody>
    </table>
    <table class="section-content-list">
    <thead>
    <h3><a href="#Status">Status </a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#success">success([value])</a></td>
    <td class="summary">Sends a value to the player, followed by a command complete message, returning a value will trigger this automatically</td>
    </tr>
    <tr>
    <td class="name"><a href="#print">print(value, colour)</a></td>
    <td class="summary">Sends a value to the player, different to success as this does not signal the end of your command</td>
    </tr>
    <tr>
    <td class="name"><a href="#error">error([error_message=''][, play_sound=utility/wire_pickup])</a></td>
    <td class="summary">Sends an error message to the player and when returned will stop execution of the command
nb: this is for non fatal errors meaning there is no log of this event, use during register callback</td>
    </tr>
    <tr>
    <td class="name"><a href="#internal_error">internal_error(success, command_name, error_message)</a></td>
    <td class="summary">Sends an error to the player and logs the error, used internally please avoid direct use
nb: use error(error_message) within your callback to trigger do not trigger directly as code execution may still continue</td>
    </tr>
    <tr>
    <td class="name"><a href="#run_command">run_command(command_event)</a></td>
    <td class="summary">Main event function that is ran for all commands, used internally please avoid direct use</td>
    </tr>
    </tbody>
    </table>
    <!-- module section list end -->

    <br />

    <!-- section start -->
    <h3><span id="Dependencies" class="section-title"><a href="#Dependencies">Dependencies</a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#utils.game" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="utils.game">utils.game</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">


    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#expcore.common" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="expcore.common">expcore.common</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">


    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    </dl>
    <h3><span id="Tables" class="section-title"><a href="#Tables">Tables</a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#defines" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="defines">defines</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Constant values used by the command system</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Fields:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>error</em></strong>





    </li>





    <li class="section-subitem-li">

    <strong><em>unauthorized</em></strong>





    </li>





    <li class="section-subitem-li">

    <strong><em>success</em></strong>





    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#commands" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="commands">commands</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">An array of all custom commands that are registered</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#authenticators" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="authenticators">authenticators</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">An array of all custom authenticators that are registered</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#parsers" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="parsers">parsers</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Used to store default functions which are common parse function such as player or number in range</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#_prototype" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="_prototype">_prototype</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">The command prototype which stores all command defining functions</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    </dl>
    <h3><span id="Fields" class="section-title"><a href="#Fields">Fields</a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#authorization_failure_on_error" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="authorization_failure_on_error">authorization_failure_on_error</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">When true any authenticator error will result in authorization failure, more secure</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#print" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="print">print</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Returns a value to the player, different to success as this does not signal the end of your command</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    </dl>
    <h3><span id="Authentication" class="section-title"><a href="#Authentication">Authentication </a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#add_authenticator" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="add_authenticator">add_authenticator(authenticator)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Adds an authorization function, function used to check if a player if allowed to use a command</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>authenticator</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>)

     The function you want to register as an authenticator

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.3.html">number</a></span>)
    <span class="return-text">The index it was inserted at, used to remove the authenticator</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- If the admin_only flag is set, then make sure the player is an admin
</span><span class="keyword">local</span> admin_authenticator =
Commands.add_authenticator(<span class="keyword">function</span>(player, command, flags, reject)
    <span class="keyword">if</span> flags.admin_only <span class="keyword">and</span> <span class="keyword">not</span> player.admin <span class="keyword">then</span>
        <span class="keyword">return</span> reject(<span class="string">'This command is for admins only!'</span>)
    <span class="keyword">else</span>
        <span class="keyword">return</span> <span class="keyword">true</span>
    <span class="keyword">end</span>
<span class="keyword">end</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#remove_authenticator" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="remove_authenticator">remove_authenticator(authenticator)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Removes an authorization function, can use the index or the function value</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>authenticator</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a> or <a class="type" href="https://www.lua.org/pil/2.3.html">number</a></span>)

     The authenticator to remove, either the index return from add_authenticator or the function used

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#boolean">boolean</a></span>)
    <span class="return-text">If the authenticator was found and removed successfully</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Removing the admin authenticator, can not be done during runtime
</span>Commands.remove_authenticator(admin_authenticator)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#authorize" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="authorize">authorize(player, command_name)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Mostly used internally, calls all authenticators, returns if the player is authorized</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>player</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/LuaPlayer.html">LuaPlayer</a></span>)

     The player who is using the command, passed to authenticators

    </li>





    <li class="section-subitem-li">

    <strong><em>command_name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the command being used, passed to authenticators

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#boolean">boolean</a></span>)
    <span class="return-text">true Player is authorized</span>
    </li>
    <li>
    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)
    <span class="return-text">commands Define value for success</span>
    </li>
    </ul>
    <h5>Or</h5>
    <ul>
    <li>
    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#boolean">boolean</a></span>)
    <span class="return-text">false Player is unauthorized</span>
    </li>
    <li>
    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a> or <span class="type">locale_string</span></span>)
    <span class="return-text">The reason given by the failed authenticator</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Test if a player can use "repeat-name"
</span><span class="keyword">local</span> authorized, status = Commands.authorize(game.player, <span class="string">'repeat-name'</span>)</code></pre>
    <!-- usage end -->

    </dd>
    </dl>
    <h3><span id="Parse" class="section-title"><a href="#Parse">Parse </a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#add_parse" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="add_parse">add_parse(name, parser)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Adds a parse function which can be called by name (used in add_param)
nb: this is not required as you can use the callback directly this just allows it to be called by name</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the parse, should describe a type of input such as number or player, must be unique

    </li>





    <li class="section-subitem-li">

    <strong><em>parser</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>)

     The function that is ran to parse the input string

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#boolean">boolean</a></span>)
    <span class="return-text">Was the parse added, will be false if the name is already used</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Adding a parse to validate integers in a given range
</span>Commands.add_parse(<span class="string">'number-range-int'</span>, <span class="keyword">function</span>(input, player, reject, range_min, range_max)
    <span class="keyword">local</span> rtn = <span class="global">tonumber</span>(input) <span class="keyword">and</span> <span class="global">math</span>.floor(<span class="global">tonumber</span>(input)) <span class="keyword">or</span> <span class="keyword">nil</span> <span class="comment">-- converts input to number
</span>    <span class="keyword">if</span> <span class="keyword">not</span> rtn <span class="keyword">or</span> rtn &lt; range_min <span class="keyword">or</span> rtn &gt; range_max <span class="keyword">then</span>
        <span class="comment">-- The input is either not a number or is outside the range
</span>        <span class="keyword">return</span> reject(<span class="string">'Number entered is not in range: '</span>..range_min..<span class="string">', '</span>..range_max)
    <span class="keyword">else</span>
        <span class="comment">-- Returns the input as a number rather than a string, thus the param is now the correct type
</span>        <span class="keyword">return</span> rtn
    <span class="keyword">end</span>
<span class="keyword">end</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#remove_parse" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="remove_parse">remove_parse(name)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Removes a parse function, see add_parse for adding them, cant be done during runtime</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the parse to remove

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Removing a parse
</span>Commands.remove_parse(<span class="string">'number-range-int'</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#parse" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="parse">parse(name, input, player, reject)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Intended to be used within other parse functions, runs a parse and returns success and new value</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the parse to call, must be a registered parser

    </li>





    <li class="section-subitem-li">

    <strong><em>input</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The input to pass to the parse, must be a string but not necessarily the original input

    </li>





    <li class="section-subitem-li">

    <strong><em>player</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/LuaPlayer.html">LuaPlayer</a></span>)

     The player that is using the command, pass directly from your arguments

    </li>





    <li class="section-subitem-li">

    <strong><em>reject</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>)

     The reject function, pass directly from your arguments

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><span class="type">any</span></span>)
    <span class="return-text">The new value for the input, if nil is return then either there was an error or the input was nil</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Parsing an int after first checking it is a number
</span>Commands.add_parse(<span class="string">'number'</span>, <span class="keyword">function</span>(input, player, reject)
    <span class="keyword">local</span> number = <span class="global">tonumber</span>(input)
    <span class="keyword">if</span> number <span class="keyword">then</span> <span class="keyword">return</span> number <span class="keyword">end</span>
    <span class="keyword">return</span> reject(<span class="string">'Input must be a number value'</span>)
<span class="keyword">end</span>)

Commands.add_parse(<span class="string">'number-int'</span>, <span class="keyword">function</span>(input, player, reject)
    <span class="keyword">local</span> number = Commands.parse(<span class="string">'number'</span>, input, player, reject)
    <span class="keyword">if</span> <span class="keyword">not</span> number <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span>
    <span class="keyword">return</span> <span class="global">math</span>.floor(number)
<span class="keyword">end</span>)</code></pre>
    <!-- usage end -->

    </dd>
    </dl>
    <h3><span id="Getters" class="section-title"><a href="#Getters">Getters </a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#get" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="get">get([player])</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Gets all commands that a player is allowed to use, game commands are not included</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>player</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/LuaPlayer.html">LuaPlayer</a></span>)

     The player that you want to get commands of, nil will return all commands

    (<em>optional</em>)
    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">All commands that that player is allowed to use, or all commands</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Get the commands you are allowed to use
</span><span class="keyword">local</span> commands = Commands.get(game.player)</code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Get all commands that are registered
</span><span class="keyword">local</span> commands = Commands.get()</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#search" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="search">search(keyword[, player])</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Searches command names and help messages to find possible commands, game commands are included</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>keyword</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The word which you are trying to find in your search

    </li>





    <li class="section-subitem-li">

    <strong><em>player</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/LuaPlayer.html">LuaPlayer</a></span>)

     The player to get allowed commands of, if nil all commands are searched

    (<em>optional</em>)
    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">All commands that contain the key word, and allowed by the player if a player was given</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Get all commands which "repeat"
</span><span class="keyword">local</span> commands = Commands.search(<span class="string">'repeat'</span>)</code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Get all commands which "repeat" and you are allowed to use
</span><span class="keyword">local</span> commands = Commands.search(<span class="string">'repeat'</span>, game.player)</code></pre>
    <!-- usage end -->

    </dd>
    </dl>
    <h3><span id="Creation" class="section-title"><a href="#Creation">Creation </a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#new_command" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="new_command">new_command(name, help)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Creates a new command object to added details to, this does not register the command to the game api</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the command to be created

    </li>





    <li class="section-subitem-li">

    <strong><em>help</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The help message for the command

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">This will be used with other functions to define the new command</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Define a new command
</span>Commands.new_command(<span class="string">'repeat-name'</span>, <span class="string">'Will repeat you name a number of times in chat.'</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#Commands._prototype:add_param" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="Commands._prototype:add_param">Commands._prototype:add_param(name[, optional=false][, parse][, ...])</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Adds a new param to the command this will be displayed in the help and used to parse the input</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the new param that is being added to the command

    </li>





    <li class="section-subitem-li">

    <strong><em>optional</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#boolean">boolean</a></span>)

     Is this param optional, these must be added after all required params

    (<em>default</em>: false)
    </li>





    <li class="section-subitem-li">

    <strong><em>parse</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a> or <a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>)

     This function will take the input and return a new value, if not given no parse is done

    (<em>optional</em>)
    </li>





    <li class="section-subitem-li">

    <strong><em>...</em></strong>

    <strong> : </strong>

    (<span class="types"><span class="type">any</span></span>)

     Extra args you want to pass to the parse function; for example if the parse is general use

    (<em>optional</em>)
    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">Pass through to allow more functions to be called</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Adding a required param which has a parser pre-defined
</span>command:add_param(<span class="string">'repeat-count'</span>, <span class="string">'number-range-int'</span>, <span class="number">1</span>, <span class="number">5</span>)</code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Adding an optional param which has a custom parse, see Commands.add_parse for details
</span>command:add_param(<span class="string">'smiley'</span>, <span class="keyword">true</span>, <span class="keyword">function</span>(input, player, reject)
    <span class="keyword">if</span> <span class="keyword">not</span> input <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span>
    <span class="keyword">return</span> input:lower() == <span class="string">'true'</span> <span class="keyword">or</span> input:lower() == <span class="string">'yes'</span> <span class="keyword">or</span> <span class="keyword">false</span>
<span class="keyword">end</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#Commands._prototype:set_defaults" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="Commands._prototype:set_defaults">Commands._prototype:set_defaults(defaults)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Add default values to params, only as an effect if the param is optional, if default value is a function it is called with the acting player</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>defaults</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)

     A table which is keyed by the name of the param and the value is the default value for that param

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">Pass through to allow more functions to be called</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Adding default values
</span>command:set_defaults{
    smiley = <span class="keyword">false</span>,
    <span class="comment">-- not in example just used to show arguments given
</span>    player_name = <span class="keyword">function</span>(player)
        <span class="keyword">return</span> player.name
    <span class="keyword">end</span>
}</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#Commands._prototype:set_flag" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="Commands._prototype:set_flag">Commands._prototype:set_flag(name[, value=true])</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Adds a flag to the command which is passed via the flags param to the authenticators, can be used to assign command roles or usage type</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the flag to be added, set to true if no value is given

    </li>





    <li class="section-subitem-li">

    <strong><em>value</em></strong>

    <strong> : </strong>

    (<span class="types"><span class="type">any</span></span>)

     The value for the flag, can be anything that the authenticators are expecting

    (<em>default</em>: true)
    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">Pass through to allow more functions to be called</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Setting a custom flag
</span>command:set_flag(<span class="string">'admin_only'</span>, <span class="keyword">true</span>)</code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- When value is true it does not need to be given
</span>command:set_flag(<span class="string">'admin_only'</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#Commands._prototype:add_alias" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="Commands._prototype:add_alias">Commands._prototype:add_alias(...)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Adds an alias, or multiple, that will be registered to this command, eg /teleport can be used as /tp</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>...</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     Any amount of aliases that you want this command to be callable with

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">Pass through to allow more functions to be called</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Added multiple aliases to a command
</span>command:add_alias(<span class="string">'name'</span>, <span class="string">'rname'</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#Commands._prototype:enable_auto_concat" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="Commands._prototype:enable_auto_concat">Commands._prototype:enable_auto_concat()</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Enables auto concatenation for this command, all params after the last are added to the last param, useful for reasons or other long text input
nb: this will disable max param checking as they will be concatenated onto the end of that last param</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)
    <span class="return-text">Pass through to allow more functions to be called</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Enable auto concat for a command
</span>command:enable_auto_concat()</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#Commands._prototype:register" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="Commands._prototype:register">Commands._prototype:register(callback)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Adds the callback to the command and registers: aliases, params and help message with the base game api
nb: this must be the last function ran on the command and must be done for the command to work</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>callback</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.6.html">function</a></span>)

     The callback for the command, will receive the player running command, and any params added with add_param

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Registering your command to the base game api
</span>command:register(<span class="keyword">function</span>(player, repeat_count, smiley, raw)
    <span class="keyword">local</span> msg = <span class="string">') '</span>..player.name
    <span class="keyword">if</span> smiley <span class="keyword">then</span> msg = <span class="string">':'</span>..msg <span class="keyword">end</span>

    <span class="keyword">for</span> <span class="number">1</span> = <span class="number">1</span>, repeat_count <span class="keyword">do</span>
        Command.<span class="global">print</span>(<span class="number">1.</span>.msg)
    <span class="keyword">end</span>
<span class="keyword">end</span>)</code></pre>
    <!-- usage end -->

    </dd>
    </dl>
    <h3><span id="Status" class="section-title"><a href="#Status">Status </a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#success" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="success">success([value])</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Sends a value to the player, followed by a command complete message, returning a value will trigger this automatically</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>value</em></strong>

    <strong> : </strong>

    (<span class="types"><span class="type">any</span></span>)

     The value to return to the player, if nil then only the success message is returned

    (<em>optional</em>)
    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><span class="type">Commands.defines.success</span></span>)
    <span class="return-text">Return this to the command handler to prevent two success messages</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Print a custom success message
</span><span class="keyword">return</span> Commands.success(<span class="string">'Your message has been printed'</span>)</code></pre>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Returning the value has the same result
</span><span class="keyword">return</span> <span class="string">'Your message has been printed'</span></code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#print" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="print">print(value, colour)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Sends a value to the player, different to success as this does not signal the end of your command</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>value</em></strong>

    <strong> : </strong>

    (<span class="types"><span class="type">any</span></span>)

     The value that you want to return to the player

    </li>





    <li class="section-subitem-li">

    <strong><em>colour</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)

     The colour of the message that the player sees

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Output a message to the player
</span>Commands.<span class="global">print</span>(<span class="string">'Your command is in progress'</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#error" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="error">error([error_message=''][, play_sound=utility/wire_pickup])</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Sends an error message to the player and when returned will stop execution of the command
nb: this is for non fatal errors meaning there is no log of this event, use during register callback</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>error_message</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     An optional error message that can be sent to the user

    (<em>default</em>: '')
    </li>





    <li class="section-subitem-li">

    <strong><em>play_sound</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The sound to play for the error

    (<em>default</em>: utility/wire_pickup)
    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><span class="type">Commands.defines.error</span></span>)
    <span class="return-text">Return this to command handler to terminate execution</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Send an error message to the player, and stops further code running
</span><span class="keyword">return</span> Commands.error(<span class="string">'The player you selected is offline'</span>)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#internal_error" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="internal_error">internal_error(success, command_name, error_message)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Sends an error to the player and logs the error, used internally please avoid direct use
nb: use error(error_message) within your callback to trigger do not trigger directly as code execution may still continue</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>success</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#boolean">boolean</a></span>)

     The success value returned from pcall, or just false to trigger error

    </li>





    <li class="section-subitem-li">

    <strong><em>command_name</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The name of the command this is used within the log

    </li>





    <li class="section-subitem-li">

    <strong><em>error_message</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#string">string</a></span>)

     The error returned by pcall or some other error, this is logged and not returned to player

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <strong>Returns:</strong>
    <ul>
    <li>
    (<span class="types"><a class="type" href="http://lua-api.factorio.com/latest/Builtin-Types.html#boolean">boolean</a></span>)
    <span class="return-text">The opposite of success so true means to cancel execution, used internally</span>
    </li>
    </ul>
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="comment">-- Used in the command system to log handler errors
</span><span class="keyword">local</span> success, err = <span class="global">pcall</span>(command_data.callback, player, <span class="global">unpack</span>(params))
<span class="keyword">if</span> Commands.internal_error(success, command_data.name, err) <span class="keyword">then</span>
    <span class="keyword">return</span> command_log(player, command_data, <span class="string">'Internal Error: Command Callback Fail'</span>, raw_params, command_event.parameter, err)
<span class="keyword">end</span></code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#run_command" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="run_command">run_command(command_event)</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Main event function that is ran for all commands, used internally please avoid direct use</p>
    <p class="section-item-description"></p>

    <!-- parameters start -->
    <strong>Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>command_event</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="https://www.lua.org/pil/2.5.html">table</a></span>)

     Passed directly from the add_command function

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code>Commands.run_command(event)</code></pre>
    <!-- usage end -->

    </dd>
    </dl>

    <!-- section end -->

    </div>
    </div>
    </div>

    <div class="footer container grid-1280">
    <div class="divider divider-custom"></div>
    <div class="footer-columns columns">
    <div class="sidebar-footer column col-3 col-sm-12">
    <i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc </a></i>
    </div>
    <div class="content-footer column col-9 col-sm-12">
    <i>Last updated 2020-08-17 14:39:39 UTC</i>
    </div>
    </div>
    </div>
    </body>
    </html>
